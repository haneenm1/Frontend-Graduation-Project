<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dashboard page</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
            
        <link rel="stylesheet" href="../assets/css/DashboardPage.css">
        <link rel="stylesheet" href="../assets/css/publishPost.css">
        <link rel="stylesheet" href="../assets/css/font.css">

    </head>
    <style> 
    
#requestContent {
  display: flex;               
  gap: 16px;                  
         
  padding-bottom: 10px;       
  scrollbar-width: thin;      
}
.notification-card{
    padding: 26px;
    border-radius: 15px;
    font-size: smaller;
    
}
.card {
  flex-shrink: 0;   
  height: 300px;
  margin-bottom: 50px;  
  border-radius: 15px;
  
 
}


.pin-icon {
  font-size: 1.5rem;

}

#requestContent::-webkit-scrollbar {
  height: 8px;
}

#requestContent::-webkit-scrollbar-thumb {
  background-color: rgba(0,0,0,0.2);
  border-radius: 4px;
}

#requestContent::-webkit-scrollbar-track {
  background: transparent;
}  
.cardd {
  height: 200px;
  min-width: 150px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1); 
  display: flex;
  flex-direction: column;
  justify-content: center;
  color: #444;
  padding: 16px;
  flex-shrink: 0;
  transition: transform 0.3s;
}

.cardd:hover {
  transform: translateY(-5px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}


.user-list-scrollable {
    max-height: calc(100vh - 70px);
    overflow-y: auto;
    padding-right: 5px;
  }
 .right-sidebar{
  width: 560px;
  }
  .user-card {
  display: flex;
  align-items: center;
  justify-content: space-between; /* هذا يوزع الصورة والمعلومات والآيكونات */
  gap: 10px;
  padding: 10px;
  background-color: #f9f9f9;
  border-radius: 10px;
  margin-bottom: 10px;
  border: 1px solid #ddd;
  transition: background-color 0.3s;
  
}


  .user-card:hover {
    background-color: #f1f1f1;
  }

  .user-card img {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
  }

  .user-infoo {
    flex: 1;
    display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: flex-start;
  }

  .user-name-status {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .status-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    display: inline-block;
  }

  .active {
    background-color: #4caf50;
  }

  .pending {
    background-color: #910707;
  }

  .icon-container button {
    border: none;
    background: none;
    cursor: pointer;
    margin: 2px 0;
    font-size: 16px;
  }

  .icon-container button:hover {
    color: #007bff;
  }

  .icon-container {
    display: flex;
    flex-direction: column;
    gap: 5px;
  }
  
.no-posts-message {
  text-align: center;
  padding: 50px 20px;
  color: #555;
  background-color: #f9f9f9;
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  margin-top: 30px;
}

.no-posts-message i {
  font-size: 48px;
  color: #ccc;
  margin-bottom: 10px;
  display: block;
}

.no-posts-message p {
  font-size: 20px;
  font-weight: bold;
  margin: 10px 0 5px;
}

.no-posts-message span {
  font-size: 14px;
  color: #888;
}

#rightsideBTN{
 width: 50px;
 background-color: red ;
}
.post-actions {
    display: flex;
    gap: 15px;
    justify-content: flex-end;
    margin-top: 8px;
    position: relative;
    left: -14px;
}



    </style>
    <body>
      <div id="status-message" style="display:none; position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
      padding: 12px 20px; border-radius: 8px; text-align: center; font-weight: bold; z-index: 9999; font-family: sans-serif;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);"></div>

        <div id="loading-screen">
            <div class="spinner-wrapper">
              <div class="spinner"></div>
              <img src="../assets/images/med 1.png" alt="Sky Medical Logo" id="loading-logo">
              
            </div>
          </div>
 
<div class="sidebar" id="AdminSidebar">
    <h3 style="padding-left: 12px; color: rgba(255, 255, 255, 0.822);"> SKY MEDICAL</h3>

    <i style="position: absolute; top: 12px; right: 10px;" id="removeSidebar"
       class="fa-solid fa-xmark" onclick="toggleSidebar()"></i>

    <img id="profile-picture" class="profile-picture"
         src="../assets/images/defultAdminImg.avif"
         alt="Admin Profile Picture">

    <ul style="color: gray;"> Dashboard
        <a href="#" onclick="window.location.reload()"><i class="fa-solid fa-house"></i> Home</a>
        <a href="../Html/UserprofilePage.html"><i class="fa-solid fa-user-shield"></i> Manager Profile</a>
        <a href="#" onclick="showPosts()"><i class="fa-solid fa-newspaper"></i> Explore Posts</a>
        <a href="../Html/shop.html"><i class="fa-solid fa-newspaper"></i> Store</a>
    </ul>

    <ul>Appointment Management
        <a href="../Html/GuardianSchededuleRequest.html"><i class="fa-solid fa-user-clock"></i> Guardian Schedule Requests</a>
        <a href="../Html/viewSchedules.html"><i class="fa-solid fa-calendar-days"></i> Manage Schedules</a>
        <a href="../Html/addExtraSession.html"><i class="fa-solid fa-plus-circle"></i> Add Extra Sessions</a>
        <a href="../Html/AppointmentRequest.html"><i class="fa-solid fa-calendar-check"></i> Pending Appointment Requests</a>
        <a href="../Html/AllappointmentReq.html"><i class="fa-solid fa-calendar-check"></i> All Appointment</a>
    </ul>

    <ul>Departments Management
        <a href="../Html/DepartmentList.html"><i class="fa-solid fa-building"></i> View & Manage Departments</a>
        <a href="../Html/addDepartment(Admin).html"><i class="fa-solid fa-circle-plus"></i> Add New Department</a>
    </ul>

    <ul>Reports & Data
        <a href="../Html/AllEvaluation.html"><i class="fa-solid fa-file-medical"></i> View Evaluations</a>
        <a href="../Html/AllTreatmentPlan.html"><i class="fa-solid fa-notes-medical"></i> View Treatment Plans</a>
        <a href="../Html/viewReport.html"><i class="fa-solid fa-file-lines"></i> view Medical Reports</a>
        <a href="../Html/viewAllimprovment.html"><i class="fa-solid fa-file-lines"></i> Cheak improvement Level</a>
    </ul>

    <ul>Communication
        <a href="../Html/AllChat.html"><i class="fa-solid fa-comments"></i> My Contact</a>
        <a href="../Html/notifications.html"><i class="fa-solid fa-bell"></i> My Notifications</a>
        <a href="../Html/NotificationsManagement(Admin).html"><i class="fa-solid fa-paper-plane"></i> Send Notifications</a>
    
    </ul>

    <ul>Financial Records
        <a href="../Html/cheakPaymentRecord.html"><i class="fa-solid fa-money-check-dollar"></i> Payment Records</a>
        <a href="../Html/PaymentRecord.html"><i class="fa-solid fa-wallet"></i> Guardian Balances</a>
        <a href="../Html/SalesAnalytics.html"><i class="fas fa-chart-line"></i> Sales Analytics</a>
    </ul>
   
    <ul>Settings
        <a href="../Html/AccountSetting.html"><i class="fa-solid fa-key"></i> Account Settings</a>
        <a href="#"><i class="fa fa-cogs"></i> Role and permissions</a>
        <a href="../Html/chatSupport.html?to=admin"><i class="fas fa-headset"></i> Support</a>
    </ul>
    

    <ul style="font-size: smaller;">
        © 2025 All rights reserved.
    </ul>

    
    <ul style="font-size: smaller;">
      <a href="../HomePage.html"><img style="width: 150px; height: 70px;" src="../assets/images/med 1.png"></a>
   </ul>
</div>


        <div class="main-content" id="main-content">
            <div class="navbar">

                <div class="search-bar"> <i class="fa fa-search"></i>
                    <input id="postSearchInput" type="text" placeholder="Search..."oninput="filterPostsBySearch()"onclick="showPosts()">
                </div>
        

                <div class="user-icons">
                    <div class="dropdown">
                        <i id="notifIcon" class="fa fa-bell"
                            onclick="toggleDropdown('notificationsDropdown'); markAsRead();"></i>
                        <div class="redDot"></div>
                        <div id="notificationsDropdown"
                            class="dropdown-content notificationsDropdown"></div>
                    </div>

                    <div class="dropdown">
                        <i id="message" class="fa-solid fa-comment"
                            onclick="toggleDropdown('messagesDropdown');"></i>
                        <div class="messageDot"></div>
                        <div id="messagesDropdown"
                            class="dropdown-content messagesDropdown"></div>
                    </div>

                    <div class="dropdown">
                        <img id="profileDropdownImg"
                            src="../assets/images/defultUserProfilepic.jpg"
                            alt="Profile Picture"
                            onclick="toggleDropdown('profileDropdown')">

                        <div id="profileDropdown" class="dropdown-content">
                            <p><a href="../Html/UserprofilePage.html"><i
                                        style="font-size: 16px; padding-right: 20px;"
                                        class="fa-solid fa-user"></i> View
                                    Profile</a></p>
                            <p><a href="../Html/AccountSetting.html"><i
                                        style="font-size: 18px; padding-right: 20px;"
                                        class="fa fa-cogs"></i> Settings</a></p>
                            <p onclick="logout()"><a href="#"><i
                                        style="font-size: 18px; padding-right: 20px;"
                                        class="fa-solid fa-right-from-bracket"></i>
                                    Logout</a></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-4">
                <h4 id="userName">Welcome Back, Manger!</h4>
            </div>
   
            <div class="card-body" id="requestContent">
            </div>

            <div class="dashboard-section">

                <div class="cardd" style="background-color: rgb(238, 221, 206);">
                    <h4>📄 Review Medical Reports</h4>
                    <p>Oversee and evaluate weekly reports from therapists and doctors.</p>
                    <a href="../Html/viewReport.html">View Schedule</a>
                  </div>
                
                  <div class="cardd" style="background-color: rgb(222, 245, 255);">
                    <h4>📅 Schedule Management</h4>
                    <p>Monitor and manage all specialists’ session schedules and availability.</p>
                    <a href="../Html/viewSchedules.html">View Schedule</a>
                  </div>
                
                  <div class="cardd" style="background-color: rgb(245, 220, 223);">
                    <h4>💬 Communication Logs</h4>
                    <p>Supervise interactions between staff and guardians.</p>
                  </div>
                
                  <div class="cardd" style="background-color: rgb(220, 255, 235);">
                    <h4>📦 Cheak Store</h4>
                    <p>therapy tools, educational materials.</p>
                    <a href="../Html/shop.html">Store</a>
                  </div>
                
                  <div class="cardd" style="background-color: rgb(255, 245, 215);">
                    <h4>💰 Financial Overview</h4>
                    <p>Track guardian balances, payments, and financial records.</p>
                    <a href="../Html/cheakPaymentRecord.html">View Finances</a>
                  </div>
                
                  <div class="cardd" style="background-color: rgb(255, 213, 236);">
                    <h4>🏢 Manage Departments</h4>
                    <p>Oversee existing departments and create new specialized units.</p>
                    <a href="../Html/DepartmentList.html">View Departments</a>
                  </div>
                
                  <div class="cardd" style="background-color: rgb(222, 255, 248);">
                    <h4>📝 Check All Evaluations</h4>
                    <p>Review all submitted evaluations by specialists.</p>
                    <a href="../Html/viewallEvaluation.html">View Evaluations</a>
                  </div>
                
                  <div class="cardd" style="background-color: rgb(255, 235, 240);">
                    <h4>📋 Check All Treatment Plans</h4>
                    <p>Review and manage individual treatment plans created by specialists.</p>
                    <a href="../Html/AllTreatmentPlan.html">View Treatment Plans</a>
                  </div>
                
                  <div class="cardd" style="background-color: rgb(255, 245, 215);">
                    <h4>📰 Explore Posts</h4>
                    <p>Read the latest posts and updates from the platform.</p>
                    <a href="#" onclick="showPosts()">Browse Posts</a>
                  </div>

            </div>
            <div class="post-container">
              <div class="post-header">
                  <img id="post-image" src="https://via.placeholder.com/50" alt="User Image" class="profile-img">
                  <div class="post-info">
                      <h5 id="post-user"></h5>
                      <p id="post-date"></p>
                  </div>
              </div>
             
              <textarea id="post-caption-input"
                  placeholder="Write your caption here..." rows="3"></textarea>
            
              <label for="file-upload" class="custom-file-upload">
                  <i class="fas fa-cloud-upload-alt upload-icon"></i>
                  Upload File
                </label>
                <input id="file-upload" type="file" accept="image/*, video/*"/>
                
              <button id="publishPost">Publish</button>
              
          </div>
          
          <div id="editPostModal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:10000;">
              <div style="background:#fff; border-radius:12px; padding:20px; max-width:500px; width:90%;">
                <h3>Edit Post</h3>
                <form id="editPostForm">
                  <label>
                     Name:
                    <input type="text" name="doctorName" id="doctorName" required style="width:100%; padding:8px; margin:6px 0;" readonly>
                  </label>
                  <label>
                    Date of Post:
                    <input type="date" name="DateOfPost" id="DateOfPost" required style="width:100%; padding:8px; margin:6px 0;" readonly>
                  </label>
                  <label>
                    Description:
                    <textarea name="postDesc" id="postDesc" rows="4" style="width:100%; padding:8px; margin:6px 0;"></textarea>
                  </label>
                  <label>
                    Upload New Image:
                    <input type="file" name="photo" id="photo" accept="image/*,video/*" style="margin:6px 0;">
                  </label>
                  <div style="text-align:right; margin-top:10px;">
                    <button type="button" onclick="closeEditModal()" style="margin-right:10px;">Cancel</button>
                    <button type="submit">Save Changes</button>
                  </div>
                </form>
              </div>
            </div>
            <div id="post-display-containers"></div>
            <div id="post-display-containerss"></div>
    
            <div class="right-sidebar hidden" id="right-sidebar">
                <button id="rightsideBTN" class="btn btn-danger" onclick="closeRightSidebar()">
                    <i class="fa fa-times"></i>
                </button>
                <h4 style="text-align: center;">All Users</h4>
                <div id="users-list" style="padding: 10px;"></div>
            </div>
            
            <button class="open-btn" onclick="openRightSidebar()">
                <i class="fa fa-chevron-up"></i>
            </button>
            
        </div>
        

            <script src="../api/Dashbord(manger).js"></script>
           <script src="../assets/js/apimessages.js"></script>
            <script src="../assets/js/logout.js"></script>
            <script src="../assets/js/DashbordPage.js"></script>
            <script src="../api/notification.js"></script>
            <script src="../api/message.js"></script>

        </body>
    </html>